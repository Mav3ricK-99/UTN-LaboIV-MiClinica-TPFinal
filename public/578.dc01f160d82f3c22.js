"use strict";(self.webpackChunkMiClinica=self.webpackChunkMiClinica||[]).push([[578],{1578:(Fn,M,m)=>{m.r(M),m.d(M,{TurnosModule:()=>En});var s=m(4755),y=m(9771),o=m(2223),A=m(3119),g=m(1153),b=m(4315),i=m(5030);const w=["botonCierreModalCancelarTurno"];function z(e,r){if(1&e&&(o.TgZ(0,"h1",17),o._uU(1),o.qZA()),2&e){const n=o.oxw();o.xp6(1),o.hij("Cancelacion del turno con ",n.soyPaciente?n.turno.especialista.nombre:n.turno.paciente.nombre,"")}}function Q(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo descripcion del rechazo es requerido. "),o.qZA())}function Y(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo descripcion debe contener al menos 6 digitos. "),o.qZA())}function k(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo descripcion debe contener como maximo 255 caracteres. "),o.qZA())}function S(e,r){if(1&e&&(o.TgZ(0,"div",18),o.YNc(1,Q,2,0,"div",19),o.YNc(2,Y,2,0,"div",19),o.YNc(3,k,2,0,"div",19),o.qZA()),2&e){const n=o.oxw();let t,a,l;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioCancelarTurno.get("descripcion"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioCancelarTurno.get("descripcion"))||null==a.errors?null:a.errors.minlength),o.xp6(1),o.Q6J("ngIf",null==(l=n.formularioCancelarTurno.get("descripcion"))||null==l.errors?null:l.errors.maxlength)}}let q=(()=>{class e{constructor(n,t){this.turnosService=n,this.formBuilder=t,this.formularioCancelarTurno=this.formBuilder.group({descripcion:new i.NI("",[i.kI.required,i.kI.minLength(6),i.kI.maxLength(255)])})}cancelarTurno(){if(!this.formularioCancelarTurno.valid)return;let n=this.formularioCancelarTurno.get("descripcion")?.value;this.turnosService.actualizarEstadoTurno(this.turno,b.C.cancelado,n),this.botonCierreModalCancelarTurno.nativeElement.click()}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(g.D),o.Y36(i.qu))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-modal-cancelar-turno"]],viewQuery:function(n,t){if(1&n&&o.Gf(w,5),2&n){let a;o.iGM(a=o.CRH())&&(t.botonCierreModalCancelarTurno=a.first)}},inputs:{turno:"turno",soyPaciente:"soyPaciente"},decls:21,vars:3,consts:[["id","modalCancelarTurno","tabindex","-1","aria-labelledby","modalCancelarTurnoLabel","aria-hidden","true",1,"modal","fade","col-md-5"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["class","modal-title fs-5","id","modalCancelarTurnoLabel",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["botonCierreModalCancelarTurno",""],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"form-row","d-flex","justify-content-around","mb-4"],[1,"form-group","col-md-12"],["for","descripcionCancelar"],["id","descripcionCancelar","placeholder","Cancele el turno porque...","formControlName","descripcion",1,"form-control"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary"],["id","modalCancelarTurnoLabel",1,"modal-title","fs-5"],[1,"alert","alert-danger","mt-3"],[4,"ngIf"]],template:function(n,t){if(1&n&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o.YNc(4,z,2,1,"h1",4),o._UZ(5,"button",5,6),o.qZA(),o.TgZ(7,"form",7),o.NdJ("ngSubmit",function(){return t.cancelarTurno()}),o.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"label",11),o._uU(12,"Especifique la razon de la cancelacion del turno."),o.qZA(),o.TgZ(13,"textarea",12),o._uU(14," "),o.qZA(),o.YNc(15,S,4,3,"div",13),o.qZA()()(),o.TgZ(16,"div",14)(17,"button",15),o._uU(18,"Descartar cambios"),o.qZA(),o.TgZ(19,"button",16),o._uU(20,"Cancelar turno"),o.qZA()()()()()()),2&n){let a;o.xp6(4),o.Q6J("ngIf",t.turno),o.xp6(3),o.Q6J("formGroup",t.formularioCancelarTurno),o.xp6(8),o.Q6J("ngIf",(null==(a=t.formularioCancelarTurno.get("descripcion"))?null:a.invalid)&&((null==(a=t.formularioCancelarTurno.get("descripcion"))?null:a.dirty)||(null==(a=t.formularioCancelarTurno.get("descripcion"))?null:a.touched)))}},dependencies:[s.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".modal-dialog[_ngcontent-%COMP%]{min-width:35vw!important;min-height:35vh!important}"]}),e})();function j(e,r){1&e&&(o.TgZ(0,"a",13),o._UZ(1,"i",14),o.qZA())}function O(e,r){if(1&e){const n=o.EpF();o.TgZ(0,"tr",9)(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.ALo(11,"date"),o.qZA(),o.TgZ(12,"td"),o._uU(13),o.qZA(),o.TgZ(14,"td"),o.YNc(15,j,2,0,"a",10),o.TgZ(16,"ul",11)(17,"li")(18,"a",12),o.NdJ("click",function(){const l=o.CHM(n).$implicit,u=o.oxw(3);return o.KtG(u.seleccionarTurno(l))}),o._uU(19,"Cancelar"),o.qZA()()()()()}if(2&e){const n=r.$implicit;o.xp6(2),o.Oqu(n.especialista.nombre),o.xp6(2),o.Oqu(n.paciente.nombre),o.xp6(2),o.Oqu(n.especialidad),o.xp6(2),o.Oqu(n.detalle),o.xp6(2),o.Oqu(o.xi3(11,7,n.fecha_turno,"dd/M/Y H:mm")),o.xp6(3),o.Oqu(n.estado),o.xp6(2),o.Q6J("ngIf",n.pendiente())}}function R(e,r){if(1&e&&(o.ynx(0),o.YNc(1,O,20,10,"tr",8),o.BQk()),2&e){const n=o.oxw().ngIf;o.xp6(1),o.Q6J("ngForOf",n)}}function P(e,r){1&e&&(o.TgZ(0,"tr")(1,"td",15),o._uU(2,"No se encontraron turnos que mostrar."),o.qZA()())}function L(e,r){if(1&e&&(o.TgZ(0,"tbody"),o.YNc(1,R,2,1,"ng-container",4),o.YNc(2,P,3,0,"ng-template",null,7,o.W1O),o.qZA()),2&e){const n=r.ngIf,t=o.MAs(3);o.xp6(1),o.Q6J("ngIf",n.length>0)("ngIfElse",t)}}function G(e,r){1&e&&(o.TgZ(0,"tbody")(1,"tr")(2,"td",15)(3,"div",16)(4,"strong",17),o._uU(5,"Cargando"),o.qZA(),o._UZ(6,"div",18),o.qZA()()()())}let $=(()=>{class e{constructor(n){this.turnosService=n,this.turnos$=this.turnosService.traerTodos()}seleccionarTurno(n){this.turnoSeleccionado=n}ngOnChanges(n){n.filtrosTurnos.firstChange||(this.turnos$=this.turnosService.traerTodos(n.filtrosTurnos.currentValue))}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(g.D))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-tabla-turnos-administrador"]],inputs:{filtrosTurnos:["filtros","filtrosTurnos"]},features:[o.TTD],decls:22,vars:6,consts:[[1,"table-responsive"],[1,"table","table-striped"],[1,"table-dark"],["scope","col",1,"text-center"],[4,"ngIf","ngIfElse"],["loader",""],[3,"soyPaciente","turno"],["noHayTurnos",""],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],["href","#","data-bs-toggle","dropdown",4,"ngIf"],[1,"dropdown-menu"],["data-bs-toggle","modal","data-bs-target","#modalCancelarTurno",1,"dropdown-item",3,"click"],["href","#","data-bs-toggle","dropdown"],[1,"bi","bi-three-dots-vertical","mx-auto","mb-1"],["colspan","7","align","center"],[1,"d-flex","justify-content-center"],[1,"me-3"],["role","status","aria-hidden","true",1,"spinner-border","ml-auto"]],template:function(n,t){if(1&n&&(o.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr",2)(4,"th",3),o._uU(5,"A cargo del profesional"),o.qZA(),o.TgZ(6,"th",3),o._uU(7,"Paciente"),o.qZA(),o.TgZ(8,"th",3),o._uU(9,"Especialidad"),o.qZA(),o.TgZ(10,"th",3),o._uU(11,"Detalle"),o.qZA(),o.TgZ(12,"th",3),o._uU(13,"Fecha del turno"),o.qZA(),o.TgZ(14,"th",3),o._uU(15,"Estado"),o.qZA(),o._UZ(16,"th"),o.qZA()(),o.YNc(17,L,4,2,"tbody",4),o.ALo(18,"async"),o.YNc(19,G,7,0,"ng-template",null,5,o.W1O),o.qZA()(),o._UZ(21,"app-modal-cancelar-turno",6)),2&n){const a=o.MAs(20);o.xp6(17),o.Q6J("ngIf",o.lcZ(18,4,t.turnos$))("ngIfElse",a),o.xp6(4),o.Q6J("soyPaciente",!1)("turno",t.turnoSeleccionado)}},dependencies:[s.sg,s.O5,q,s.Ov,s.uU]}),e})();var f=m(6964);const D=["botonCierreModal"];function H(e,r){1&e&&(o.TgZ(0,"h1",23),o._uU(1,"Complete una breve encuesta para mejorar. "),o._UZ(2,"br"),o._uU(3,"Gracias por tu tiempo!"),o.qZA())}function B(e,r){if(1&e&&(o.TgZ(0,"h1",23),o._uU(1),o.qZA()),2&e){const n=o.oxw(2);o.xp6(1),o.hij("Aqui la encuesta completada por ",n.turno.paciente.nombre,"")}}function K(e,r){if(1&e&&o.YNc(0,B,2,1,"h1",24),2&e){const n=o.oxw();o.Q6J("ngIf",n.turno)}}function V(e,r){if(1&e&&o._UZ(0,"i"),2&e){const n=r.fill;o.Gre("bi-star",100===n?"-fill":"",""),o.ekj("filled",100===n)}}function W(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El puntaje es requerido "),o.qZA())}function X(e,r){if(1&e&&(o.TgZ(0,"div",25),o.YNc(1,W,2,0,"div",26),o.qZA()),2&e){const n=o.oxw();let t;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioEncuestaTurno.get("puntajeInstalaciones"))||null==t.errors?null:t.errors.required)}}function oo(e,r){if(1&e&&(o.TgZ(0,"h5",27),o._uU(1),o.qZA()),2&e){const n=o.oxw();o.xp6(1),o.Oqu(n.calificacionInstalaciones)}}function eo(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo descripcion de las instalaciones debe contener al menos 6 digitos. "),o.qZA())}function no(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo descripcion de las instalaciones debe contener como maximo 255 caracteres. "),o.qZA())}function to(e,r){if(1&e&&(o.TgZ(0,"div",25),o.YNc(1,eo,2,0,"div",26),o.YNc(2,no,2,0,"div",26),o.qZA()),2&e){const n=o.oxw();let t,a;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioEncuestaTurno.get("descripcionInstalaciones"))||null==t.errors?null:t.errors.minlength),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioEncuestaTurno.get("descripcionInstalaciones"))||null==a.errors?null:a.errors.maxlength)}}function ao(e,r){if(1&e&&o._UZ(0,"i"),2&e){const n=r.fill;o.Gre("bi-star",100===n?"-fill":"",""),o.ekj("filled",100===n)}}function ro(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El puntaje es requerido "),o.qZA())}function io(e,r){if(1&e&&(o.TgZ(0,"div",25),o.YNc(1,ro,2,0,"div",26),o.qZA()),2&e){const n=o.oxw();let t;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioEncuestaTurno.get("puntajeRecepcion"))||null==t.errors?null:t.errors.required)}}function lo(e,r){if(1&e&&(o.TgZ(0,"h5",27),o._uU(1),o.qZA()),2&e){const n=o.oxw();o.xp6(1),o.Oqu(n.calificacionRecepcion)}}function uo(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo descripcion de el servicio en recepcion debe contener al menos 6 digitos. "),o.qZA())}function co(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo descripcion de el servicio en recepcion debe contener como maximo 255 caracteres. "),o.qZA())}function so(e,r){if(1&e&&(o.TgZ(0,"div",25),o.YNc(1,uo,2,0,"div",26),o.YNc(2,co,2,0,"div",26),o.qZA()),2&e){const n=o.oxw();let t,a;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioEncuestaTurno.get("descripcionRecepcion"))||null==t.errors?null:t.errors.minlength),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioEncuestaTurno.get("descripcionRecepcion"))||null==a.errors?null:a.errors.maxlength)}}function mo(e,r){1&e&&(o.TgZ(0,"button",28),o._uU(1,"Enviar encuesta"),o.qZA())}let U=(()=>{class e{constructor(n,t,a){this.turnosService=n,this.formBuilder=t,this.formularioEncuestaTurno=this.formBuilder.group({puntajeInstalaciones:new i.NI(null,i.kI.required),descripcionInstalacines:new i.NI("",[i.kI.minLength(6),i.kI.maxLength(255)]),puntajeRecepcion:new i.NI(null,i.kI.required),descripcionRecepcion:new i.NI("",[i.kI.minLength(6),i.kI.maxLength(255)])}),a.max=5}ngOnChanges(){if(this.turno&&this.turno.existeEncuesta()){const n=this.turno.encuesta;this.formularioEncuestaTurno.get("puntajeInstalaciones")?.setValue(n.puntajeInstalaciones),this.formularioEncuestaTurno.get("descripcionInstalacines")?.setValue(n.mensajeInstalaciones),this.formularioEncuestaTurno.get("puntajeRecepcion")?.setValue(n.puntajeRecepcion),this.formularioEncuestaTurno.get("descripcionRecepcion")?.setValue(n.mensajeRecepcion),this.formularioEncuestaTurno.disable()}}cambioRate(n,t){let a="";switch(n){case 1:a="Terrible";break;case 2:a="Muy mala";break;case 3:a="Pudo ser mejor";break;case 4:a="Muy buena";break;case 5:a="Excelente"}switch(t){case"instalaciones":this.calificacionInstalaciones=a;break;case"recepcion":this.calificacionRecepcion=a}}cambiarMensajeCalificacion(n){let t="";switch(this.formularioEncuestaTurno.get(n)?.value){case 1:t="Terrible";break;case 2:t="Muy mala";break;case 3:t="Pudo ser mejor";break;case 4:t="Muy buena";break;case 5:t="Excelente"}switch(n){case"puntajeInstalaciones":this.calificacionInstalaciones=t;break;case"puntajeRecepcion":this.calificacionRecepcion=t}}enviarEncuesta(){if(!this.formularioEncuestaTurno.valid)return;let n={mensajeInstalaciones:this.formularioEncuestaTurno.get("descripcionInstalacines")?.value,puntajeInstalaciones:this.formularioEncuestaTurno.get("puntajeInstalaciones")?.value,mensajeRecepcion:this.formularioEncuestaTurno.get("descripcionRecepcion")?.value,puntajeRecepcion:this.formularioEncuestaTurno.get("puntajeRecepcion")?.value};this.turnosService.enviarEncuesta(this.turno,n),this.botonCierreModal.nativeElement.click()}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(g.D),o.Y36(i.qu),o.Y36(f.M0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-modal-encuesta-turno"]],viewQuery:function(n,t){if(1&n&&o.Gf(D,5),2&n){let a;o.iGM(a=o.CRH())&&(t.botonCierreModal=a.first)}},inputs:{turno:"turno"},features:[o.TTD],decls:42,vars:10,consts:[["id","modalEncuesta","tabindex","-1","aria-labelledby","modalEncuestaLabel","aria-hidden","true",1,"modal","fade","col-md-5"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["class","w-100 modal-title fs-5 text-center","id","modalEncuestaLabel",4,"ngIf","ngIfElse"],["mensajeVerEncuesta",""],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["botonCierreModal",""],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"d-flex","flex-column","align-items-around"],[1,"form-group","col-md-12"],[1,"d-flex","flex-column","align-items-center"],["formControlName","puntajeInstalaciones",3,"leave","hover"],["class","alert alert-danger mt-3",4,"ngIf"],["class","h6 p-2",4,"ngIf"],["for","descripcionCalificar"],["id","descripcionCalificar","placeholder","Muy buena iluminacion...","formControlName","descripcionInstalacines",1,"form-control"],["formControlName","puntajeRecepcion",3,"leave","hover"],["id","descripcionCalificar","placeholder","Me atendieron rapido...","formControlName","descripcionRecepcion",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit","class","btn btn-primary",4,"ngIf"],["id","modalEncuestaLabel",1,"w-100","modal-title","fs-5","text-center"],["class","w-100 modal-title fs-5 text-center","id","modalEncuestaLabel",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[4,"ngIf"],[1,"h6","p-2"],["type","submit",1,"btn","btn-primary"]],template:function(n,t){if(1&n&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o.YNc(4,H,4,0,"h1",4),o.YNc(5,K,1,1,"ng-template",null,5,o.W1O),o._UZ(7,"button",6,7),o.qZA(),o.TgZ(9,"form",8),o.NdJ("ngSubmit",function(){return t.enviarEncuesta()}),o.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"label"),o._uU(15,"Calificacion de nuestras instalaciones"),o.qZA(),o.TgZ(16,"ngb-rating",13),o.NdJ("leave",function(){return t.cambiarMensajeCalificacion("puntajeInstalaciones")})("hover",function(l){return t.cambioRate(l,"instalaciones")}),o.YNc(17,V,1,5,"ng-template"),o.qZA(),o.YNc(18,X,2,1,"div",14),o.YNc(19,oo,2,1,"h5",15),o.qZA(),o.TgZ(20,"label",16),o._uU(21,"Que le parecio nuestras instalaciones."),o.qZA(),o.TgZ(22,"textarea",17),o._uU(23," "),o.qZA(),o.YNc(24,to,3,2,"div",14),o.qZA(),o.TgZ(25,"div",11)(26,"div",12)(27,"label"),o._uU(28,"Calificacion de servicio de asistencia brindado"),o.qZA(),o.TgZ(29,"ngb-rating",18),o.NdJ("leave",function(){return t.cambiarMensajeCalificacion("puntajeRecepcion")})("hover",function(l){return t.cambioRate(l,"recepcion")}),o.YNc(30,ao,1,5,"ng-template"),o.qZA(),o.YNc(31,io,2,1,"div",14),o.YNc(32,lo,2,1,"h5",15),o.qZA(),o.TgZ(33,"label",16),o._uU(34,"Como fue la atencion que le brindaron en la recepcion."),o.qZA(),o.TgZ(35,"textarea",19),o._uU(36," "),o.qZA(),o.YNc(37,so,3,2,"div",14),o.qZA()()(),o.TgZ(38,"div",20)(39,"button",21),o._uU(40,"Descartar cambios"),o.qZA(),o.YNc(41,mo,2,0,"button",22),o.qZA()()()()()),2&n){const a=o.MAs(6);let l,u,c,d;o.xp6(4),o.Q6J("ngIf",!(null!=t.turno&&t.turno.existeEncuesta()))("ngIfElse",a),o.xp6(5),o.Q6J("formGroup",t.formularioEncuestaTurno),o.xp6(9),o.Q6J("ngIf",(null==(l=t.formularioEncuestaTurno.get("puntajeInstalaciones"))?null:l.invalid)&&((null==(l=t.formularioEncuestaTurno.get("puntajeInstalaciones"))?null:l.dirty)||(null==(l=t.formularioEncuestaTurno.get("puntajeInstalaciones"))?null:l.touched))),o.xp6(1),o.Q6J("ngIf",!(null!=t.turno&&t.turno.existeEncuesta())),o.xp6(5),o.Q6J("ngIf",(null==(u=t.formularioEncuestaTurno.get("descripcionInstalaciones"))?null:u.invalid)&&((null==(u=t.formularioEncuestaTurno.get("descripcionInstalaciones"))?null:u.dirty)||(null==(u=t.formularioEncuestaTurno.get("descripcionInstalaciones"))?null:u.touched))),o.xp6(7),o.Q6J("ngIf",(null==(c=t.formularioEncuestaTurno.get("puntajeRecepcion"))?null:c.invalid)&&((null==(c=t.formularioEncuestaTurno.get("puntajeRecepcion"))?null:c.dirty)||(null==(c=t.formularioEncuestaTurno.get("puntajeRecepcion"))?null:c.touched))),o.xp6(1),o.Q6J("ngIf",!(null!=t.turno&&t.turno.existeEncuesta())),o.xp6(5),o.Q6J("ngIf",(null==(d=t.formularioEncuestaTurno.get("descripcionRecepcion"))?null:d.invalid)&&((null==(d=t.formularioEncuestaTurno.get("descripcionRecepcion"))?null:d.dirty)||(null==(d=t.formularioEncuestaTurno.get("descripcionRecepcion"))?null:d.touched))),o.xp6(4),o.Q6J("ngIf",!(null!=t.turno&&t.turno.existeEncuesta()))}},dependencies:[s.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,f.OC],styles:[".modal-dialog[_ngcontent-%COMP%]{min-width:35vw!important;min-height:35vh!important}i[_ngcontent-%COMP%]{font-size:1.5rem;padding-right:.1rem;color:#edcb0a}.filled[_ngcontent-%COMP%]{color:gold}"]}),e})();const po=["botonCierreModal"];function _o(e,r){if(1&e&&(o.TgZ(0,"h1",17),o._uU(1),o.qZA()),2&e){const n=o.oxw();o.xp6(1),o.hij("Rechazo del turno con ",n.turno.paciente.nombre,"")}}function fo(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo descripcion del rechazo es requerido. "),o.qZA())}function go(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo descripcion debe contener al menos 6 digitos. "),o.qZA())}function To(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo descripcion debe contener como maximo 255 caracteres. "),o.qZA())}function bo(e,r){if(1&e&&(o.TgZ(0,"div",18),o.YNc(1,fo,2,0,"div",19),o.YNc(2,go,2,0,"div",19),o.YNc(3,To,2,0,"div",19),o.qZA()),2&e){const n=o.oxw();let t,a,l;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioRechazarTurno.get("descripcion"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioRechazarTurno.get("descripcion"))||null==a.errors?null:a.errors.minlength),o.xp6(1),o.Q6J("ngIf",null==(l=n.formularioRechazarTurno.get("descripcion"))||null==l.errors?null:l.errors.maxlength)}}let vo=(()=>{class e{constructor(n,t){this.turnosService=n,this.formBuilder=t,this.formularioRechazarTurno=this.formBuilder.group({descripcion:new i.NI("",[i.kI.required,i.kI.minLength(6),i.kI.maxLength(255)])})}rechazarTurno(){if(!this.formularioRechazarTurno.valid)return;let n=this.formularioRechazarTurno.get("descripcion")?.value;this.turnosService.actualizarEstadoTurno(this.turno,b.C.rechazado,n),this.botonCierreModal.nativeElement.click()}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(g.D),o.Y36(i.qu))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-modal-rechazar-turno"]],viewQuery:function(n,t){if(1&n&&o.Gf(po,5),2&n){let a;o.iGM(a=o.CRH())&&(t.botonCierreModal=a.first)}},inputs:{turno:"turno"},decls:21,vars:3,consts:[["id","modalRechazarTurno","tabindex","-1","aria-labelledby","modalRechazarTurnoLabel","aria-hidden","true",1,"modal","fade","col-md-5"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["class","modal-title fs-5","id","modalRechazarTurnoLabel",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["botonCierreModal",""],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"form-row","d-flex","justify-content-around","mb-4"],[1,"form-group","col-md-12"],["for","descripcionRechazar"],["id","descripcionRechazar","placeholder","EL paciente no especifico...","formControlName","descripcion",1,"form-control"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary"],["id","modalRechazarTurnoLabel",1,"modal-title","fs-5"],[1,"alert","alert-danger","mt-3"],[4,"ngIf"]],template:function(n,t){if(1&n&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o.YNc(4,_o,2,1,"h1",4),o._UZ(5,"button",5,6),o.qZA(),o.TgZ(7,"form",7),o.NdJ("ngSubmit",function(){return t.rechazarTurno()}),o.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"label",11),o._uU(12,"Especifique la razon del rechazo del turno."),o.qZA(),o.TgZ(13,"textarea",12),o._uU(14," "),o.qZA(),o.YNc(15,bo,4,3,"div",13),o.qZA()()(),o.TgZ(16,"div",14)(17,"button",15),o._uU(18,"Descartar cambios"),o.qZA(),o.TgZ(19,"button",16),o._uU(20,"Rechazar turno"),o.qZA()()()()()()),2&n){let a;o.xp6(4),o.Q6J("ngIf",t.turno),o.xp6(3),o.Q6J("formGroup",t.formularioRechazarTurno),o.xp6(8),o.Q6J("ngIf",(null==(a=t.formularioRechazarTurno.get("descripcion"))?null:a.invalid)&&((null==(a=t.formularioRechazarTurno.get("descripcion"))?null:a.dirty)||(null==(a=t.formularioRechazarTurno.get("descripcion"))?null:a.touched)))}},dependencies:[s.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".modal-dialog[_ngcontent-%COMP%]{min-width:35vw!important;min-height:35vh!important}"]}),e})();class Zo{constructor(r,n,t,a){this.altura=r,this.peso=n,this.temperatura=t,this.presion=a}}var ho=m(5226),N=m.n(ho);const xo=["botonCierreModal"];function Co(e,r){if(1&e&&(o.TgZ(0,"h1",33),o._uU(1),o.qZA()),2&e){const n=o.oxw();o.xp6(1),o.hij("Finaliazacion del turno con ",n.turno.paciente.nombre,"")}}function Ao(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo descripcion del diagnostico es requerido. "),o.qZA())}function qo(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo descripcion debe contener al menos 6 digitos. "),o.qZA())}function Io(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo descripcion debe contener como maximo 255 caracteres. "),o.qZA())}function Eo(e,r){if(1&e&&(o.TgZ(0,"div",34),o.YNc(1,Ao,2,0,"div",35),o.YNc(2,qo,2,0,"div",35),o.YNc(3,Io,2,0,"div",35),o.qZA()),2&e){const n=o.oxw();let t,a,l;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioFinalizarTurno.get("descripcion"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioFinalizarTurno.get("descripcion"))||null==a.errors?null:a.errors.minlength),o.xp6(1),o.Q6J("ngIf",null==(l=n.formularioFinalizarTurno.get("descripcion"))||null==l.errors?null:l.errors.maxlength)}}function Fo(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo altura del diagnostico es requerido. "),o.qZA())}function Mo(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo altura debe ser como minimo 100 centimetros. "),o.qZA())}function yo(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo altura debe ser como maximo 250 centimetros. "),o.qZA())}function Uo(e,r){if(1&e&&(o.TgZ(0,"div",34),o.YNc(1,Fo,2,0,"div",35),o.YNc(2,Mo,2,0,"div",35),o.YNc(3,yo,2,0,"div",35),o.qZA()),2&e){const n=o.oxw();let t,a,l;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioFinalizarTurno.get("altura"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioFinalizarTurno.get("altura"))||null==a.errors?null:a.errors.min),o.xp6(1),o.Q6J("ngIf",null==(l=n.formularioFinalizarTurno.get("altura"))||null==l.errors?null:l.errors.max)}}function No(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo peso del historial es requerido. "),o.qZA())}function Jo(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo peso debe ser como maximo de 200 kilogramos. "),o.qZA())}function wo(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo peso debe ser como minimo de 20 kilogramos. "),o.qZA())}function zo(e,r){if(1&e&&(o.TgZ(0,"div",34),o.YNc(1,No,2,0,"div",35),o.YNc(2,Jo,2,0,"div",35),o.YNc(3,wo,2,0,"div",35),o.qZA()),2&e){const n=o.oxw();let t,a,l;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioFinalizarTurno.get("peso"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioFinalizarTurno.get("peso"))||null==a.errors?null:a.errors.max),o.xp6(1),o.Q6J("ngIf",null==(l=n.formularioFinalizarTurno.get("peso"))||null==l.errors?null:l.errors.min)}}function Qo(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo temperatura del diagnostico es requerido. "),o.qZA())}function Yo(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo temperatura debe ser como maximo 50\xb0C. "),o.qZA())}function ko(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo temperatura debe ser como minimo 30\xb0C. "),o.qZA())}function So(e,r){if(1&e&&(o.TgZ(0,"div",34),o.YNc(1,Qo,2,0,"div",35),o.YNc(2,Yo,2,0,"div",35),o.YNc(3,ko,2,0,"div",35),o.qZA()),2&e){const n=o.oxw();let t,a,l;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioFinalizarTurno.get("temperatura"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioFinalizarTurno.get("temperatura"))||null==a.errors?null:a.errors.max),o.xp6(1),o.Q6J("ngIf",null==(l=n.formularioFinalizarTurno.get("temperatura"))||null==l.errors?null:l.errors.min)}}function jo(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo presion minima del diagnostico es requerido. "),o.qZA())}function Oo(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo presion minima debe ser como maximo 10. "),o.qZA())}function Ro(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo presion minima debe ser como minimo 6. "),o.qZA())}function Po(e,r){if(1&e&&(o.TgZ(0,"div",36),o.YNc(1,jo,2,0,"div",35),o.YNc(2,Oo,2,0,"div",35),o.YNc(3,Ro,2,0,"div",35),o.qZA()),2&e){const n=o.oxw();let t,a,l;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioFinalizarTurno.get("presionMinima"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioFinalizarTurno.get("presionMinima"))||null==a.errors?null:a.errors.max),o.xp6(1),o.Q6J("ngIf",null==(l=n.formularioFinalizarTurno.get("presionMinima"))||null==l.errors?null:l.errors.min)}}function Lo(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo presion maxima del diagnostico es requerido. "),o.qZA())}function Go(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo presion maxima debe ser como maximo 25. "),o.qZA())}function $o(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo presion maxima debe ser como minimo 11. "),o.qZA())}function Do(e,r){if(1&e&&(o.TgZ(0,"div",36),o.YNc(1,Lo,2,0,"div",35),o.YNc(2,Go,2,0,"div",35),o.YNc(3,$o,2,0,"div",35),o.qZA()),2&e){const n=o.oxw();let t,a,l;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioFinalizarTurno.get("presionMaxima"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioFinalizarTurno.get("presionMaxima"))||null==a.errors?null:a.errors.max),o.xp6(1),o.Q6J("ngIf",null==(l=n.formularioFinalizarTurno.get("presionMaxima"))||null==l.errors?null:l.errors.min)}}function Ho(e,r){if(1&e&&(o.ynx(0,37),o.TgZ(1,"div",38)(2,"div",15)(3,"span",17),o._uU(4,"Clave"),o.qZA(),o._UZ(5,"input",39),o.TgZ(6,"span",17),o._uU(7,"Valor"),o.qZA(),o._UZ(8,"input",40),o.qZA()(),o.BQk()),2&e){const n=r.index;o.xp6(1),o.Q6J("formGroupName",n)}}function Bo(e,r){1&e&&(o.TgZ(0,"div",36),o._uU(1," La cantidad de datos opcionales deben ser como maximo 3. "),o.qZA())}function Ko(e,r){1&e&&(o.TgZ(0,"div",36),o._uU(1," Uno de los datos opcionales esta faltando. "),o.qZA())}let Vo=(()=>{class e{constructor(n,t){this.turnosService=n,this.formBuilder=t,this.verificarDatosExtra=a=>{let l=a.get("datosExtra")?.value;if(l.length>2)return{excedido:!0};var u=!1;return l.forEach(c=>{(""!=c.clave&&""==c.valor||""==c.clave&&""!=c.valor)&&(u=!0)}),0==u?null:{incompleto:!0}},this.formularioFinalizarTurno=this.formBuilder.group({descripcion:new i.NI("",[i.kI.required,i.kI.minLength(6),i.kI.maxLength(255)]),altura:new i.NI("",[i.kI.required,i.kI.max(250),i.kI.min(100)]),peso:new i.NI("",[i.kI.required,i.kI.max(200),i.kI.min(10)]),temperatura:new i.NI("",[i.kI.required,i.kI.max(50),i.kI.min(30)]),presionMaxima:new i.NI("",[i.kI.required,i.kI.max(25),i.kI.min(11)]),presionMinima:new i.NI("",[i.kI.required,i.kI.max(10),i.kI.min(6)]),datosExtra:this.formBuilder.array([this.crearFormGroupClaveValor()])},{validators:this.verificarDatosExtra})}crearFormGroupClaveValor(){return new i.cw({clave:new i.NI(""),valor:new i.NI("")})}agregarDatosExtra(){this.formularioFinalizarTurno.get("datosExtra").push(this.crearFormGroupClaveValor())}eliminarDatosExtra(){let n=this.formularioFinalizarTurno.get("datosExtra");n.removeAt(n.length-1)}finalizarTurno(){if(!this.formularioFinalizarTurno.valid)return;let n=this.formularioFinalizarTurno.get("altura")?.value,t=this.formularioFinalizarTurno.get("peso")?.value,a=this.formularioFinalizarTurno.get("temperatura")?.value,l=this.formularioFinalizarTurno.get("presionMaxima")?.value,u=this.formularioFinalizarTurno.get("presionMinima")?.value,c=`${l}/${u} mm Hg`,p=(this.formularioFinalizarTurno.get("datosExtra")?.value).map(h=>({[h.clave]:h.valor})),_=new Zo(n,t,a,c);_.datosExtra=p;let C=this.formularioFinalizarTurno.get("descripcion")?.value;this.turnosService.actualizarEstadoTurno(this.turno,b.C.finalizado,C,_).then(()=>{this.mostrarModal("Historial agregado","success","Vinculado el historial al paciente con exito."),this.botonCierreModal.nativeElement.click()}).catch(()=>{this.mostrarModal("Error!","error","Hubo un problema al guardar el historial del paciente.")})}mostrarModal(n,t,a){"success"!=t&&"error"!=t||N().fire({title:n,icon:t,text:a,confirmButtonText:"OK!"}).then(()=>{this.formularioFinalizarTurno.reset()})}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(g.D),o.Y36(i.qu))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-modal-finalizar-turno"]],viewQuery:function(n,t){if(1&n&&o.Gf(xo,5),2&n){let a;o.iGM(a=o.CRH())&&(t.botonCierreModal=a.first)}},inputs:{turno:"turno"},decls:65,vars:13,consts:[["id","modalFinalizarTurno","tabindex","-1","aria-labelledby","modalFinalizarTurnoLabel","aria-hidden","true",1,"modal","fade","col-md-5"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["class","modal-title fs-5","id","modalFinalizarTurnoLabel",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["botonCierreModal",""],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"d-flex","flex-column","justify-content-around","mb-4"],[1,"form-group","col-md-12"],["for","descripcionRechazar"],["id","descripcionRechazar","placeholder","Sufria de una otitis incurable...","formControlName","descripcion",1,"form-control"],["class","alert alert-danger mt-3",4,"ngIf"],["for","altura",1,"form-label"],[1,"input-group","mb-3"],["id","altura","type","number","formControlName","altura","placeholder","Altura",1,"form-control"],[1,"input-group-text"],["for","peso",1,"form-label"],["id","peso","type","number","formControlName","peso","placeholder","Peso",1,"form-control"],["for","temperatura",1,"form-label"],["id","temperatura","type","number","formControlName","temperatura","placeholder","Temperatura",1,"form-control"],["for","presion",1,"form-label"],["id","presion","type","number","formControlName","presionMinima","placeholder","Presion minima","aria-label","presionMinima",1,"form-control"],["type","number","formControlName","presionMaxima","placeholder","m\xe1xima","aria-label","presionMaxima",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],["for","datosExtra",1,"form-label"],["formArrayName","datosExtra",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","button",1,"btn","btn-danger","mt-2",3,"disabled","click"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary"],["id","modalFinalizarTurnoLabel",1,"modal-title","fs-5"],[1,"alert","alert-danger","mt-3"],[4,"ngIf"],[1,"alert","alert-danger","mt-2"],["formArrayName","datosExtra"],[3,"formGroupName"],["id","clave","type","text","formControlName","clave","placeholder","Clave","aria-label","clave",1,"form-control"],["type","text","formControlName","valor","placeholder","Valor","aria-label","valor",1,"form-control"]],template:function(n,t){if(1&n&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o.YNc(4,Co,2,1,"h1",4),o._UZ(5,"button",5,6),o.qZA(),o.TgZ(7,"form",7),o.NdJ("ngSubmit",function(){return t.finalizarTurno()}),o.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"label",11),o._uU(12,"Escriba el diagnostico realizado."),o.qZA(),o.TgZ(13,"textarea",12),o._uU(14," "),o.qZA(),o.YNc(15,Eo,4,3,"div",13),o.qZA(),o.TgZ(16,"div",10)(17,"label",14),o._uU(18,"Altura en centimetros"),o.qZA(),o.TgZ(19,"div",15),o._UZ(20,"input",16),o.TgZ(21,"span",17),o._uU(22,"Cm"),o.qZA()(),o.YNc(23,Uo,4,3,"div",13),o.qZA(),o.TgZ(24,"div",10)(25,"label",18),o._uU(26,"Peso corporal"),o.qZA(),o.TgZ(27,"div",15),o._UZ(28,"input",19),o.TgZ(29,"span",17),o._uU(30,"Kg"),o.qZA()(),o.YNc(31,zo,4,3,"div",13),o.qZA(),o.TgZ(32,"div",10)(33,"label",20),o._uU(34,"Temperatura"),o.qZA(),o.TgZ(35,"div",15),o._UZ(36,"input",21),o.TgZ(37,"span",17),o._uU(38,"C\xb0"),o.qZA()(),o.YNc(39,So,4,3,"div",13),o.qZA(),o.TgZ(40,"label",22),o._uU(41,"Presion arterial"),o.qZA(),o.TgZ(42,"div",15),o._UZ(43,"input",23),o.TgZ(44,"span",17),o._uU(45,"/"),o.qZA(),o._UZ(46,"input",24),o.TgZ(47,"span",17),o._uU(48,"mm Hg"),o.qZA(),o.YNc(49,Po,4,3,"div",25),o.YNc(50,Do,4,3,"div",25),o.qZA(),o.TgZ(51,"label",26),o._uU(52,"Datos extra (opcionales)"),o.qZA(),o.YNc(53,Ho,9,1,"ng-container",27),o.YNc(54,Bo,2,0,"div",25),o.YNc(55,Ko,2,0,"div",25),o.TgZ(56,"button",28),o.NdJ("click",function(){return t.agregarDatosExtra()}),o._uU(57,"+"),o.qZA(),o.TgZ(58,"button",29),o.NdJ("click",function(){return t.eliminarDatosExtra()}),o._uU(59,"-"),o.qZA()()(),o.TgZ(60,"div",30)(61,"button",31),o._uU(62,"Descartar cambios"),o.qZA(),o.TgZ(63,"button",32),o._uU(64,"Finalizar turno"),o.qZA()()()()()()),2&n){let a,l,u,c,d,p,_,C,h;o.xp6(4),o.Q6J("ngIf",t.turno),o.xp6(3),o.Q6J("formGroup",t.formularioFinalizarTurno),o.xp6(8),o.Q6J("ngIf",(null==(a=t.formularioFinalizarTurno.get("descripcion"))?null:a.invalid)&&((null==(a=t.formularioFinalizarTurno.get("descripcion"))?null:a.dirty)||(null==(a=t.formularioFinalizarTurno.get("descripcion"))?null:a.touched))),o.xp6(8),o.Q6J("ngIf",(null==(l=t.formularioFinalizarTurno.get("altura"))?null:l.invalid)&&((null==(l=t.formularioFinalizarTurno.get("altura"))?null:l.dirty)||(null==(l=t.formularioFinalizarTurno.get("altura"))?null:l.touched))),o.xp6(8),o.Q6J("ngIf",(null==(u=t.formularioFinalizarTurno.get("peso"))?null:u.invalid)&&((null==(u=t.formularioFinalizarTurno.get("peso"))?null:u.dirty)||(null==(u=t.formularioFinalizarTurno.get("peso"))?null:u.touched))),o.xp6(8),o.Q6J("ngIf",(null==(c=t.formularioFinalizarTurno.get("temperatura"))?null:c.invalid)&&((null==(c=t.formularioFinalizarTurno.get("temperatura"))?null:c.dirty)||(null==(c=t.formularioFinalizarTurno.get("temperatura"))?null:c.touched))),o.xp6(10),o.Q6J("ngIf",(null==(d=t.formularioFinalizarTurno.get("presionMinima"))?null:d.invalid)&&((null==(d=t.formularioFinalizarTurno.get("presionMinima"))?null:d.dirty)||(null==(d=t.formularioFinalizarTurno.get("presionMinima"))?null:d.touched))),o.xp6(1),o.Q6J("ngIf",(null==(p=t.formularioFinalizarTurno.get("presionMaxima"))?null:p.invalid)&&((null==(p=t.formularioFinalizarTurno.get("presionMaxima"))?null:p.dirty)||(null==(p=t.formularioFinalizarTurno.get("presionMaxima"))?null:p.touched))),o.xp6(3),o.Q6J("ngForOf",null==(_=t.formularioFinalizarTurno.get("datosExtra"))?null:_.value),o.xp6(1),o.Q6J("ngIf",(null==t.formularioFinalizarTurno.errors?null:t.formularioFinalizarTurno.errors.excedido)&&(t.formularioFinalizarTurno.touched||t.formularioFinalizarTurno.dirty)),o.xp6(1),o.Q6J("ngIf",(null==t.formularioFinalizarTurno.errors?null:t.formularioFinalizarTurno.errors.incompleto)&&(t.formularioFinalizarTurno.touched||t.formularioFinalizarTurno.dirty)),o.xp6(1),o.Q6J("disabled",(null==(C=t.formularioFinalizarTurno.get("datosExtra"))?null:C.value.length)>2),o.xp6(2),o.Q6J("disabled",(null==(h=t.formularioFinalizarTurno.get("datosExtra"))?null:h.value.length)<2)}},dependencies:[s.sg,s.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,i.x0,i.CE]}),e})();function Wo(e,r){if(1&e){const n=o.EpF();o.TgZ(0,"a",19),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit,l=o.oxw(3);return o.KtG(l.seleccionarTurno(a))}),o._uU(1,"Cancelar"),o.qZA()}}function Xo(e,r){if(1&e){const n=o.EpF();o.TgZ(0,"a",20),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit,l=o.oxw(3);return o.KtG(l.seleccionarTurno(a))}),o._uU(1,"Rechazar"),o.qZA()}}function oe(e,r){if(1&e){const n=o.EpF();o.TgZ(0,"a",21),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit,l=o.oxw(3);return o.KtG(l.aceptarTurno(a))}),o._uU(1,"Aceptar"),o.qZA()}}function ee(e,r){if(1&e){const n=o.EpF();o.TgZ(0,"a",22),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit,l=o.oxw(3);return o.KtG(l.seleccionarTurno(a))}),o._uU(1,"Finalizar"),o.qZA()}}function ne(e,r){if(1&e){const n=o.EpF();o.TgZ(0,"a",23),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit,l=o.oxw(3);return o.KtG(l.seleccionarTurno(a))}),o._uU(1,"Ver rese\xf1a"),o.qZA()}}function te(e,r){if(1&e&&(o.TgZ(0,"tr",10)(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.ALo(9,"date"),o.qZA(),o.TgZ(10,"td"),o._uU(11),o.qZA(),o.TgZ(12,"td")(13,"a",11),o._UZ(14,"i",12),o.qZA(),o.TgZ(15,"ul",13)(16,"li"),o.YNc(17,Wo,2,0,"a",14),o.qZA(),o.TgZ(18,"li"),o.YNc(19,Xo,2,0,"a",15),o.qZA(),o.TgZ(20,"li"),o.YNc(21,oe,2,0,"a",16),o.qZA(),o.TgZ(22,"li"),o.YNc(23,ee,2,0,"a",17),o.qZA(),o.TgZ(24,"li"),o.YNc(25,ne,2,0,"a",18),o.qZA()()()()),2&e){const n=r.$implicit;o.xp6(2),o.Oqu(n.paciente.nombre),o.xp6(2),o.Oqu(n.especialidad),o.xp6(2),o.Oqu(n.detalle),o.xp6(2),o.Oqu(o.xi3(9,10,n.fecha_turno,"dd/M/Y H:mm")),o.xp6(3),o.Oqu(n.estado),o.xp6(6),o.Q6J("ngIf",n.pendiente()),o.xp6(2),o.Q6J("ngIf",n.pendiente()),o.xp6(2),o.Q6J("ngIf",n.pendiente()),o.xp6(2),o.Q6J("ngIf",n.aprobado()),o.xp6(2),o.Q6J("ngIf",n.existeEncuesta())}}function ae(e,r){if(1&e&&(o.ynx(0),o.YNc(1,te,26,13,"tr",9),o.BQk()),2&e){const n=o.oxw().ngIf;o.xp6(1),o.Q6J("ngForOf",n)}}function re(e,r){1&e&&(o.TgZ(0,"tr")(1,"td",24),o._uU(2,"No se encontraron turnos que mostrar."),o.qZA()())}function ie(e,r){if(1&e&&(o.TgZ(0,"tbody"),o.YNc(1,ae,2,1,"ng-container",4),o.YNc(2,re,3,0,"ng-template",null,8,o.W1O),o.qZA()),2&e){const n=r.ngIf,t=o.MAs(3);o.xp6(1),o.Q6J("ngIf",n.length>0)("ngIfElse",t)}}function le(e,r){1&e&&(o.TgZ(0,"tbody")(1,"tr")(2,"td",24)(3,"div",25)(4,"strong",26),o._uU(5,"Cargando"),o.qZA(),o._UZ(6,"div",27),o.qZA()()()())}let ue=(()=>{class e{constructor(n){this.turnosService=n,this.turnos$=this.turnosService.traerMisTurnos()}seleccionarTurno(n){this.turnoSeleccionado=n}aceptarTurno(n){this.turnosService.actualizarEstadoTurno(n,b.C.aprobado)}ngOnChanges(n){n.filtrosTurnos.firstChange||(this.turnos$=this.turnosService.traerMisTurnos(n.filtrosTurnos.currentValue))}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(g.D))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-tabla-turnos-especialista"]],inputs:{filtrosTurnos:["filtros","filtrosTurnos"]},features:[o.TTD],decls:23,vars:9,consts:[[1,"table-responsive"],[1,"table","table-striped"],[1,"table-dark"],["scope","col",1,"text-center"],[4,"ngIf","ngIfElse"],["loader",""],[3,"soyPaciente","turno"],[3,"turno"],["noHayTurnos",""],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],["href","#","data-bs-toggle","dropdown"],[1,"bi","bi-three-dots-vertical","mx-auto","mb-1"],[1,"dropdown-menu"],["class","dropdown-item","data-bs-toggle","modal","data-bs-toggle","modal","data-bs-target","#modalCancelarTurno",3,"click",4,"ngIf"],["class","dropdown-item","data-bs-toggle","modal","data-bs-toggle","modal","data-bs-target","#modalRechazarTurno",3,"click",4,"ngIf"],["class","dropdown-item",3,"click",4,"ngIf"],["class","dropdown-item","data-bs-toggle","modal","data-bs-toggle","modal","data-bs-target","#modalFinalizarTurno",3,"click",4,"ngIf"],["class","dropdown-item","data-bs-toggle","modal","data-bs-target","#modalEncuesta",3,"click",4,"ngIf"],["data-bs-toggle","modal","data-bs-toggle","modal","data-bs-target","#modalCancelarTurno",1,"dropdown-item",3,"click"],["data-bs-toggle","modal","data-bs-toggle","modal","data-bs-target","#modalRechazarTurno",1,"dropdown-item",3,"click"],[1,"dropdown-item",3,"click"],["data-bs-toggle","modal","data-bs-toggle","modal","data-bs-target","#modalFinalizarTurno",1,"dropdown-item",3,"click"],["data-bs-toggle","modal","data-bs-target","#modalEncuesta",1,"dropdown-item",3,"click"],["colspan","6","align","center"],[1,"d-flex","justify-content-center"],[1,"me-3"],["role","status","aria-hidden","true",1,"spinner-border","ml-auto"]],template:function(n,t){if(1&n&&(o.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr",2)(4,"th",3),o._uU(5,"Paciente"),o.qZA(),o.TgZ(6,"th",3),o._uU(7,"Especialidad"),o.qZA(),o.TgZ(8,"th",3),o._uU(9,"Detalle"),o.qZA(),o.TgZ(10,"th",3),o._uU(11,"Fecha del turno"),o.qZA(),o.TgZ(12,"th",3),o._uU(13,"Estado"),o.qZA(),o._UZ(14,"th"),o.qZA()(),o.YNc(15,ie,4,2,"tbody",4),o.ALo(16,"async"),o.YNc(17,le,7,0,"ng-template",null,5,o.W1O),o.qZA()(),o._UZ(19,"app-modal-cancelar-turno",6)(20,"app-modal-rechazar-turno",7)(21,"app-modal-finalizar-turno",7)(22,"app-modal-encuesta-turno",7)),2&n){const a=o.MAs(18);o.xp6(15),o.Q6J("ngIf",o.lcZ(16,7,t.turnos$))("ngIfElse",a),o.xp6(4),o.Q6J("soyPaciente",!1)("turno",t.turnoSeleccionado),o.xp6(1),o.Q6J("turno",t.turnoSeleccionado),o.xp6(1),o.Q6J("turno",t.turnoSeleccionado),o.xp6(1),o.Q6J("turno",t.turnoSeleccionado)}},dependencies:[s.sg,s.O5,q,U,vo,Vo,s.Ov,s.uU]}),e})();const ce=["botonCierreModal"];function se(e,r){if(1&e&&(o.TgZ(0,"label",20),o._uU(1),o.qZA()),2&e){const n=o.oxw();o.xp6(1),o.hij("Comentenos como fue la atencion con ",n.turno.especialista.nombre,".")}}function de(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo descripcion es requerido. "),o.qZA())}function me(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo descripcion debe contener al menos 6 digitos. "),o.qZA())}function pe(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo descripcion debe contener como maximo 255 caracteres. "),o.qZA())}function _e(e,r){if(1&e&&(o.TgZ(0,"div",21),o.YNc(1,de,2,0,"div",22),o.YNc(2,me,2,0,"div",22),o.YNc(3,pe,2,0,"div",22),o.qZA()),2&e){const n=o.oxw();let t,a,l;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioCalificarTurno.get("descripcion"))||null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioCalificarTurno.get("descripcion"))||null==a.errors?null:a.errors.minlength),o.xp6(1),o.Q6J("ngIf",null==(l=n.formularioCalificarTurno.get("descripcion"))||null==l.errors?null:l.errors.maxlength)}}function fe(e,r){if(1&e&&o._UZ(0,"i"),2&e){const n=r.fill;o.Gre("bi-star",100===n?"-fill":"",""),o.ekj("filled",100===n)}}function ge(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El puntaje es requerido "),o.qZA())}function Te(e,r){if(1&e&&(o.TgZ(0,"div",21),o.YNc(1,ge,2,0,"div",22),o.qZA()),2&e){const n=o.oxw();let t;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioCalificarTurno.get("puntaje"))||null==t.errors?null:t.errors.required)}}let be=(()=>{class e{constructor(n,t,a){this.turnosService=n,this.formBuilder=t,this.formularioCalificarTurno=this.formBuilder.group({descripcion:new i.NI("",[i.kI.required,i.kI.minLength(6),i.kI.maxLength(255)]),puntaje:new i.NI(null,i.kI.required)}),a.max=5}cambioRate(n){switch(n){case 1:this.calificacion="Terrible";break;case 2:this.calificacion="Muy mala";break;case 3:this.calificacion="Pudo ser mejor";break;case 4:this.calificacion="Muy buena";break;case 5:this.calificacion="Excelente"}}cambiarMensajeCalificacion(){switch(this.formularioCalificarTurno.get("puntaje")?.value){case 1:this.calificacion="Terrible";break;case 2:this.calificacion="Muy mala";break;case 3:this.calificacion="Pudo ser mejor";break;case 4:this.calificacion="Muy buena";break;case 5:this.calificacion="Excelente"}}calificarTurno(){if(!this.formularioCalificarTurno.valid)return;let n={mensaje:this.formularioCalificarTurno.get("descripcion")?.value,puntaje:this.formularioCalificarTurno.get("puntaje")?.value};this.turnosService.calificarTurno(this.turno,n),this.botonCierreModal.nativeElement.click()}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(g.D),o.Y36(i.qu),o.Y36(f.M0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-modal-calificar-atencion"]],viewQuery:function(n,t){if(1&n&&o.Gf(ce,5),2&n){let a;o.iGM(a=o.CRH())&&(t.botonCierreModal=a.first)}},inputs:{turno:"turno"},decls:29,vars:5,consts:[["id","modalCalificarTurno","tabindex","-1","aria-labelledby","modalCalificarTurnoLabel","aria-hidden","true",1,"modal","fade","col-md-5"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalCalificarTurnoLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["botonCierreModal",""],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"form-row","d-flex","justify-content-around"],[1,"form-group","col-md-12"],["for","descripcionCalificar",4,"ngIf"],["id","descripcionCalificar","placeholder","El doctor fue muy amable...","formControlName","descripcion",1,"form-control"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"m-2","d-flex","flex-column","align-items-center"],["formControlName","puntaje",3,"leave","hover"],[1,"h6","p-2"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary"],["for","descripcionCalificar"],[1,"alert","alert-danger","mt-3"],[4,"ngIf"]],template:function(n,t){if(1&n&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),o._uU(5,"Calificar turno"),o.qZA(),o._UZ(6,"button",5,6),o.qZA(),o.TgZ(8,"form",7),o.NdJ("ngSubmit",function(){return t.calificarTurno()}),o.TgZ(9,"div",8)(10,"div",9)(11,"div",10),o.YNc(12,se,2,1,"label",11),o.TgZ(13,"textarea",12),o._uU(14," "),o.qZA(),o.YNc(15,_e,4,3,"div",13),o.TgZ(16,"div",14)(17,"label"),o._uU(18,"Calificacion"),o.qZA(),o.TgZ(19,"ngb-rating",15),o.NdJ("leave",function(){return t.cambiarMensajeCalificacion()})("hover",function(l){return t.cambioRate(l)}),o.YNc(20,fe,1,5,"ng-template"),o.qZA(),o.YNc(21,Te,2,1,"div",13),o.TgZ(22,"h5",16),o._uU(23),o.qZA()()()()(),o.TgZ(24,"div",17)(25,"button",18),o._uU(26,"Descartar cambios"),o.qZA(),o.TgZ(27,"button",19),o._uU(28,"Calificar turno"),o.qZA()()()()()()),2&n){let a,l;o.xp6(8),o.Q6J("formGroup",t.formularioCalificarTurno),o.xp6(4),o.Q6J("ngIf",t.turno),o.xp6(3),o.Q6J("ngIf",(null==(a=t.formularioCalificarTurno.get("descripcion"))?null:a.invalid)&&((null==(a=t.formularioCalificarTurno.get("descripcion"))?null:a.dirty)||(null==(a=t.formularioCalificarTurno.get("descripcion"))?null:a.touched))),o.xp6(6),o.Q6J("ngIf",(null==(l=t.formularioCalificarTurno.get("puntaje"))?null:l.invalid)&&((null==(l=t.formularioCalificarTurno.get("puntaje"))?null:l.dirty)||(null==(l=t.formularioCalificarTurno.get("puntaje"))?null:l.touched))),o.xp6(2),o.Oqu(t.calificacion)}},dependencies:[s.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,f.OC],styles:[".modal-dialog[_ngcontent-%COMP%]{min-width:35vw!important;min-height:35vh!important}i[_ngcontent-%COMP%]{font-size:1.5rem;padding-right:.1rem;color:#edcb0a}.filled[_ngcontent-%COMP%]{color:gold}"]}),e})();function ve(e,r){if(1&e){const n=o.EpF();o.TgZ(0,"a",18),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit,l=o.oxw(3);return o.KtG(l.seleccionarTurno(a))}),o._uU(1,"Cancelar"),o.qZA()}}function Ze(e,r){1&e&&(o.TgZ(0,"a",19),o._uU(1,"Ver rese\xf1a"),o.qZA())}function he(e,r){if(1&e){const n=o.EpF();o.TgZ(0,"a",20),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit,l=o.oxw(3);return o.KtG(l.seleccionarTurno(a))}),o._uU(1,"Completar encuesta"),o.qZA()}}function xe(e,r){if(1&e){const n=o.EpF();o.TgZ(0,"a",21),o.NdJ("click",function(){o.CHM(n);const a=o.oxw().$implicit,l=o.oxw(3);return o.KtG(l.seleccionarTurno(a))}),o._uU(1,"Calificar atencion"),o.qZA()}}function Ce(e,r){if(1&e&&(o.TgZ(0,"tr",10)(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.ALo(9,"date"),o.qZA(),o.TgZ(10,"td"),o._uU(11),o.qZA(),o.TgZ(12,"td")(13,"a",11),o._UZ(14,"i",12),o.qZA(),o.TgZ(15,"ul",13)(16,"li"),o.YNc(17,ve,2,0,"a",14),o.qZA(),o.TgZ(18,"li"),o.YNc(19,Ze,2,0,"a",15),o.qZA(),o.TgZ(20,"li"),o.YNc(21,he,2,0,"a",16),o.qZA(),o.TgZ(22,"li"),o.YNc(23,xe,2,0,"a",17),o.qZA()()()()),2&e){const n=r.$implicit;o.xp6(2),o.Oqu(n.especialista.nombre),o.xp6(2),o.Oqu(n.especialidad),o.xp6(2),o.Oqu(n.detalle),o.xp6(2),o.Oqu(o.xi3(9,9,n.fecha_turno,"dd/M/Y H:mm")),o.xp6(3),o.Oqu(n.estado),o.xp6(6),o.Q6J("ngIf",!n.finalizado()&&n.activo()),o.xp6(2),o.Q6J("ngIf",n.existeEncuesta()),o.xp6(2),o.Q6J("ngIf",!n.existeEncuesta()&&n.finalizado()),o.xp6(2),o.Q6J("ngIf",!n.existeCalificacionTurno()&&n.finalizado())}}function Ae(e,r){if(1&e&&(o.ynx(0),o.YNc(1,Ce,24,12,"tr",9),o.BQk()),2&e){const n=o.oxw().ngIf;o.xp6(1),o.Q6J("ngForOf",n)}}function qe(e,r){1&e&&(o.TgZ(0,"tr")(1,"td",22),o._uU(2,"No se encontraron turnos que mostrar."),o.qZA()())}function Ie(e,r){if(1&e&&(o.TgZ(0,"tbody"),o.YNc(1,Ae,2,1,"ng-container",4),o.YNc(2,qe,3,0,"ng-template",null,8,o.W1O),o.qZA()),2&e){const n=r.ngIf,t=o.MAs(3);o.xp6(1),o.Q6J("ngIf",n.length>0)("ngIfElse",t)}}function Ee(e,r){1&e&&(o.TgZ(0,"tbody")(1,"tr")(2,"td",22)(3,"div",23)(4,"strong",24),o._uU(5,"Cargando"),o.qZA(),o._UZ(6,"div",25),o.qZA()()()())}let Fe=(()=>{class e{constructor(n){this.turnosService=n,this.turnos$=this.turnosService.traerMisTurnos()}seleccionarTurno(n){this.turnoSeleccionado=n}ngOnChanges(n){n.filtrosTurnos.firstChange||(this.turnos$=this.turnosService.traerMisTurnos(n.filtrosTurnos.currentValue))}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(g.D))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-tabla-turnos-paciente"]],inputs:{filtrosTurnos:["filtros","filtrosTurnos"]},features:[o.TTD],decls:22,vars:8,consts:[[1,"table-responsive"],[1,"table","table-striped"],[1,"table-dark"],["scope","col",1,"text-center"],[4,"ngIf","ngIfElse"],["loader",""],[3,"soyPaciente","turno"],[3,"turno"],["noHayTurnos",""],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],["href","#","data-bs-toggle","dropdown"],[1,"bi","bi-three-dots-vertical","mx-auto","mb-1"],[1,"dropdown-menu"],["class","dropdown-item","data-bs-toggle","modal","data-bs-target","#modalCancelarTurno",3,"click",4,"ngIf"],["class","dropdown-item","data-bs-toggle","modal","data-bs-target","#modalEncuesta",4,"ngIf"],["class","dropdown-item","data-bs-toggle","modal","data-bs-target","#modalEncuesta",3,"click",4,"ngIf"],["class","dropdown-item","data-bs-toggle","modal","data-bs-target","#modalCalificarTurno",3,"click",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#modalCancelarTurno",1,"dropdown-item",3,"click"],["data-bs-toggle","modal","data-bs-target","#modalEncuesta",1,"dropdown-item"],["data-bs-toggle","modal","data-bs-target","#modalEncuesta",1,"dropdown-item",3,"click"],["data-bs-toggle","modal","data-bs-target","#modalCalificarTurno",1,"dropdown-item",3,"click"],["colspan","6","align","center"],[1,"d-flex","justify-content-center"],[1,"me-3"],["role","status","aria-hidden","true",1,"spinner-border","ml-auto"]],template:function(n,t){if(1&n&&(o.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr",2)(4,"th",3),o._uU(5,"A cargo del profesional"),o.qZA(),o.TgZ(6,"th",3),o._uU(7,"Especialidad"),o.qZA(),o.TgZ(8,"th",3),o._uU(9,"Detalle"),o.qZA(),o.TgZ(10,"th",3),o._uU(11,"Fecha del turno"),o.qZA(),o.TgZ(12,"th",3),o._uU(13,"Estado"),o.qZA(),o._UZ(14,"th"),o.qZA()(),o.YNc(15,Ie,4,2,"tbody",4),o.ALo(16,"async"),o.YNc(17,Ee,7,0,"ng-template",null,5,o.W1O),o.qZA()(),o._UZ(19,"app-modal-cancelar-turno",6)(20,"app-modal-calificar-atencion",7)(21,"app-modal-encuesta-turno",7)),2&n){const a=o.MAs(18);o.xp6(15),o.Q6J("ngIf",o.lcZ(16,6,t.turnos$))("ngIfElse",a),o.xp6(4),o.Q6J("soyPaciente",!0)("turno",t.turnoSeleccionado),o.xp6(1),o.Q6J("turno",t.turnoSeleccionado),o.xp6(1),o.Q6J("turno",t.turnoSeleccionado)}},dependencies:[s.sg,s.O5,q,be,U,s.Ov,s.uU]}),e})();var x=m(7579),I=m(9646),v=m(8372),Z=m(1884),T=m(8505),E=m(3900),F=m(262);const Me=["botonCierreModal"],ye=["selectEsp"];function Ue(e,r){if(1&e){const n=o.EpF();o.ynx(0),o.TgZ(1,"div",31)(2,"button",32),o.NdJ("click",function(){const l=o.CHM(n).$implicit,u=o.oxw(3);return o.KtG(u.seleccionarEspecialista(l))}),o._UZ(3,"img",33),o._uU(4),o.qZA()(),o.BQk()}if(2&e){const n=r.$implicit;o.xp6(3),o.Q6J("src",n.pathImagen,o.LSH),o.xp6(1),o.hij(" ",n.nombre,"")}}function Ne(e,r){if(1&e&&(o.ynx(0),o.YNc(1,Ue,5,2,"ng-container",30),o.BQk()),2&e){const n=o.oxw().ngIf;o.xp6(1),o.Q6J("ngForOf",n)}}function Je(e,r){if(1&e&&(o.TgZ(0,"div",28),o.YNc(1,Ne,2,1,"ng-container",29),o.qZA()),2&e){const n=r.ngIf;o.xp6(1),o.Q6J("ngIf",n.length>0)}}function we(e,r){if(1&e&&(o.TgZ(0,"h1",6),o._uU(1),o.qZA()),2&e){const n=o.oxw();o.xp6(1),o.hij("Selecciona una especialidad de ",n.especialistaSeleccionado.nombre,"")}}function ze(e,r){if(1&e){const n=o.EpF();o.TgZ(0,"div",36)(1,"button",37),o.NdJ("click",function(){const l=o.CHM(n).$implicit,u=o.oxw(2);return o.KtG(u.seleccionarEspecialidad(l))}),o._uU(2),o.qZA()()}if(2&e){const n=r.$implicit;o.xp6(2),o.Oqu(n)}}function Qe(e,r){if(1&e&&(o.TgZ(0,"div",34),o.YNc(1,ze,3,1,"div",35),o.qZA()),2&e){const n=o.oxw();o.xp6(1),o.Q6J("ngForOf",n.especialistaSeleccionado.especialidad)}}function Ye(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El paciente para este turno es requerido."),o.qZA())}function ke(e,r){if(1&e&&(o.TgZ(0,"div",41),o.YNc(1,Ye,2,0,"div",29),o.qZA()),2&e){const n=o.oxw(2);let t;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioSolicitarTurno.get("paciente"))||null==t.errors?null:t.errors.required)}}function Se(e,r){if(1&e&&o._UZ(0,"ngb-highlight",42),2&e){const t=r.term;o.Q6J("result",r.result.nombre)("term",t)}}function je(e,r){if(1&e&&(o.TgZ(0,"div",22)(1,"label",38),o._uU(2,"Pacientes:"),o.qZA(),o._UZ(3,"input",39),o.YNc(4,ke,2,1,"div",20),o.YNc(5,Se,1,2,"ng-template",null,40,o.W1O),o.qZA()),2&e){const n=o.MAs(6),t=o.oxw();let a;o.xp6(3),o.Q6J("resultTemplate",n)("inputFormatter",t.formatter)("ngbTypeahead",t.buscarPaciente)("editable",!1),o.xp6(1),o.Q6J("ngIf",(null==(a=t.formularioSolicitarTurno.get("paciente"))?null:a.invalid)&&((null==(a=t.formularioSolicitarTurno.get("paciente"))?null:a.dirty)||(null==(a=t.formularioSolicitarTurno.get("paciente"))?null:a.touched)))}}function Oe(e,r){if(1&e){const n=o.EpF();o.TgZ(0,"div",43)(1,"button",44),o.NdJ("click",function(){const l=o.CHM(n).$implicit,u=o.oxw();return o.KtG(u.seleccionarFecha(l))}),o._uU(2),o.ALo(3,"date"),o.qZA()()}if(2&e){const n=r.$implicit,t=o.oxw();o.xp6(1),o.ekj("btn-selected",n==t.dateSeleccionada),o.xp6(1),o.Oqu(o.xi3(3,3,n,"short"))}}function Re(e,r){1&e&&(o.TgZ(0,"div",41),o._uU(1," La fecha solicitada no se encuentra disponible para este Especialista. "),o.qZA())}function Pe(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El detalle para el turno no debe sobrepasar los 255 caracteres. "),o.qZA())}function Le(e,r){if(1&e&&(o.TgZ(0,"div",41),o.YNc(1,Pe,2,0,"div",29),o.qZA()),2&e){const n=o.oxw();let t;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioSolicitarTurno.get("detalle"))||null==t.errors?null:t.errors.maxlength)}}let Ge=(()=>{class e{constructor(n,t,a){this.usuariosService=n,this.turnosService=t,this.formBuilder=a,this.botonDeshabilitado=!1,this.focus$=new x.x,this.click$=new x.x,this.buscando=!1,this.busquedaFallida=!1,this.mesesDatepicker=2,this.showWeekNumbers=!1,this.formatter=l=>l.nombre,this.buscarPaciente=l=>l.pipe((0,v.b)(300),(0,Z.x)(),(0,T.b)(()=>this.buscando=!0),(0,E.w)(u=>this.usuariosService.buscarUsuario(u,"paciente").pipe((0,T.b)(()=>this.busquedaFallida=!1),(0,F.K)(()=>(this.busquedaFallida=!0,(0,I.of)([]))))),(0,T.b)(()=>this.buscando=!1)),this.especialistas$=this.usuariosService.traerTodos("especialista"),this.formularioSolicitarTurno=this.formBuilder.group({especialidad:new i.NI(null,[i.kI.required,i.kI.minLength(6),i.kI.maxLength(255)]),fechaTurno:new i.NI(null,[i.kI.required]),detalle:new i.NI("",[i.kI.maxLength(255)])},{validators:this.validarFechaTurno()}),n.usuarioIngresado?.isAdmin()&&this.formularioSolicitarTurno.addControl("paciente",new i.NI(null,[i.kI.required]))}validarFechaTurno(){return n=>{let t=n.get("fechaTurno"),a=n.get("especialista");if(t?.value&&a?.value){let l=t.value;if(!a.value?.disponibleEnFecha(l))return{noDisponible:!0}}return null}}solicitarTurno(){if(!this.formularioSolicitarTurno.valid)return;this.botonDeshabilitado=!0;let n=this.usuariosService.usuarioIngresado,t=this.formularioSolicitarTurno.get("especialidad")?.value,a=this.formularioSolicitarTurno.get("fechaTurno")?.value,l=this.formularioSolicitarTurno.get("detalle")?.value,u=n;n?.isAdmin()&&(u=this.formularioSolicitarTurno.get("paciente")?.value);let c=new b.v("0",t,a,l,this.especialistaSeleccionado,u);this.turnosService.nuevoTurno(c).then(d=>{this.mostrarModal("Turno agregado con Exito","success",`Ahora solo falta que el especialista ${this.especialistaSeleccionado.nombre} confirme la cita!.`)}).catch(d=>{this.mostrarModal("Hubo un problema al subir la cita","error","Por favor, vuelva a intearlo nuevamente en algunos minutos.")}).finally(()=>{this.botonDeshabilitado=!1,this.botonCierreModal.nativeElement.click()})}seleccionarEspecialista(n){this.especialistaSeleccionado=n,this.turnosService.traerMisTurnos().subscribe(t=>{t&&(this.especialistaSeleccionado.turnos=t),this.dates=this.especialistaSeleccionado.disponibilidadesProximas(),this.formularioSolicitarTurno.patchValue({especialista:n})})}seleccionarFecha(n){this.dateSeleccionada=n,this.formularioSolicitarTurno.patchValue({fechaTurno:n})}seleccionarEspecialidad(n){this.formularioSolicitarTurno.patchValue({especialidad:n})}mostrarModal(n,t,a){"success"!=t&&"error"!=t||N().fire({title:n,icon:t,text:a,confirmButtonText:"OK!"}).then(()=>{this.formularioSolicitarTurno.reset()})}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(A.i),o.Y36(g.D),o.Y36(i.qu))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-solicitar-turno"]],viewQuery:function(n,t){if(1&n&&(o.Gf(Me,5),o.Gf(ye,7)),2&n){let a;o.iGM(a=o.CRH())&&(t.botonCierreModal=a.first),o.iGM(a=o.CRH())&&(t.selectEsp=a.first)}},features:[o._Bn([])],decls:45,vars:11,consts:[[1,"d-flex","align-items-center","flex-column"],["data-bs-toggle","modal","data-bs-target","#modalElegirEspecialista",1,"btn","btn-primary"],["tabindex","-1","id","modalElegirEspecialista","aria-labelledby","modalElegirEspecialistaLabel","aria-hidden","true",1,"modal","fade","col-md-5"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalSolicitarTurnoLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["class","modal-body col-md-12 d-flex flex-wrap justify-content-around",4,"ngIf"],["tabindex","-1","id","modalElegirEspecialidad","aria-labelledby","modalElegirEspecialidadLabel","aria-hidden","true",1,"modal","fade","col-md-5"],["class","modal-title fs-5","id","modalSolicitarTurnoLabel",4,"ngIf"],["class","modal-body col-md-12 d-flex flex-wrap",4,"ngIf"],["id","modalSolicitarTurno","tabindex","-1","aria-labelledby","modalSolicitarTurnoLabel","aria-hidden","true",1,"modal","fade","col-md-5"],["botonCierreModal",""],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"d-flex","flex-column","justify-content-around"],["class","form-group col-md-12 mb-3",4,"ngIf"],[1,"form-group","col-md-12","mb-2","d-flex","flex-wrap"],["class","col",4,"ngFor","ngForOf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"m-2","d-flex","flex-column","align-items-center"],[1,"form-group","col-md-12","mb-3"],["for","detalleTurno",1,"col-xs-3","col-sm-auto","col-form-label"],["id","detalleTurno","formControlName","detalle","noresize","","placeholder","Detalle del nuevo turno...",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"modal-body","col-md-12","d-flex","flex-wrap","justify-content-around"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"m-1"],["data-bs-toggle","modal","data-bs-target","#modalElegirEspecialidad",1,"btn","btn-success","d-flex","flex-column","align-items-center",3,"click"],["width","56",3,"src"],[1,"modal-body","col-md-12","d-flex","flex-wrap"],["class","col text-center",4,"ngFor","ngForOf"],[1,"col","text-center"],["type","button","data-bs-toggle","modal","data-bs-target","#modalSolicitarTurno",1,"btn","btn-secondary",3,"click"],["for","pacientes",1,"col-xs-3","col-sm-auto","col-form-label"],["id","pacientes","type","text","formControlName","paciente",1,"form-control",3,"resultTemplate","inputFormatter","ngbTypeahead","editable"],["rt",""],[1,"alert","alert-danger","mt-3"],[3,"result","term"],[1,"col"],["type","button",1,"m-1","btn","btn-primary",3,"click"]],template:function(n,t){if(1&n&&(o.TgZ(0,"article",0)(1,"button",1),o._uU(2,"Solicitar Turno"),o.qZA()(),o.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h1",6),o._uU(8,"Selecciona un especialista"),o.qZA(),o._UZ(9,"button",7),o.qZA(),o.YNc(10,Je,2,1,"div",8),o.ALo(11,"async"),o.qZA()()(),o.TgZ(12,"div",9)(13,"div",3)(14,"div",4)(15,"div",5),o.YNc(16,we,2,1,"h1",10),o._UZ(17,"button",7),o.qZA(),o.YNc(18,Qe,2,1,"div",11),o.qZA()()(),o.TgZ(19,"div",12)(20,"div",3)(21,"div",4)(22,"div",5)(23,"h1",6),o._uU(24,"Nuevo turno"),o.qZA(),o._UZ(25,"button",7,13),o.qZA(),o.TgZ(27,"div",14)(28,"form",15),o.NdJ("ngSubmit",function(){return t.solicitarTurno()}),o.TgZ(29,"div",16),o.YNc(30,je,7,5,"div",17),o.TgZ(31,"div",18),o.YNc(32,Oe,4,6,"div",19),o.YNc(33,Re,2,0,"div",20),o.qZA(),o.TgZ(34,"div",21)(35,"div",22)(36,"label",23),o._uU(37,"Detalle del turno (opcional)"),o.qZA(),o._UZ(38,"textarea",24),o.YNc(39,Le,2,1,"div",20),o.qZA()()(),o.TgZ(40,"div",25)(41,"button",26),o._uU(42,"Cancelar"),o.qZA(),o.TgZ(43,"button",27),o._uU(44,"Confirmar nuevo Turno"),o.qZA()()()()()()()),2&n){let a;o.xp6(10),o.Q6J("ngIf",o.lcZ(11,9,t.especialistas$)),o.xp6(6),o.Q6J("ngIf",t.especialistaSeleccionado),o.xp6(2),o.Q6J("ngIf",t.especialistaSeleccionado),o.xp6(10),o.Q6J("formGroup",t.formularioSolicitarTurno),o.xp6(2),o.Q6J("ngIf",null==t.usuariosService.usuarioIngresado?null:t.usuariosService.usuarioIngresado.isAdmin()),o.xp6(2),o.Q6J("ngForOf",t.dates),o.xp6(1),o.Q6J("ngIf",(null==t.formularioSolicitarTurno.errors?null:t.formularioSolicitarTurno.errors.noDisponible)&&(t.formularioSolicitarTurno.touched||t.formularioSolicitarTurno.dirty)),o.xp6(6),o.Q6J("ngIf",(null==(a=t.formularioSolicitarTurno.get("detalle"))?null:a.invalid)&&((null==(a=t.formularioSolicitarTurno.get("detalle"))?null:a.dirty)||(null==(a=t.formularioSolicitarTurno.get("detalle"))?null:a.touched))),o.xp6(4),o.Q6J("disabled",!t.formularioSolicitarTurno.valid||t.botonDeshabilitado)}},dependencies:[s.sg,s.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,f._h,f.dR,s.Ov,s.uU],styles:[".modal-dialog[_ngcontent-%COMP%]{min-width:38vw!important;min-height:38vh!important}textarea[_ngcontent-%COMP%]{resize:none}.btn-selected[_ngcontent-%COMP%]{background-color:#0b5ed7}"]}),e})();var $e=m(6451),De=m(9300),He=m(4004),J=m(5184);const Be=["selectEsp"];function Ke(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo especialidad debe contener como minimo 6 caracteres. "),o.qZA())}function Ve(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo especialidad debe contener como maximo 255 caracteres. "),o.qZA())}function We(e,r){if(1&e&&(o.TgZ(0,"div",26),o.YNc(1,Ke,2,0,"div",27),o.YNc(2,Ve,2,0,"div",27),o.qZA()),2&e){const n=o.oxw();let t,a;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioFiltros.get("especialidad"))||null==t.errors?null:t.errors.minlength),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioFiltros.get("especialidad"))||null==a.errors?null:a.errors.maxlength)}}function Xe(e,r){if(1&e&&o._UZ(0,"ngb-highlight",28),2&e){const t=r.term;o.Q6J("result",r.result.nombre)("term",t)}}function on(e,r){if(1&e&&(o.TgZ(0,"div",2)(1,"label",29),o._uU(2,"Especialistas:"),o.qZA(),o._UZ(3,"input",30),o.qZA()),2&e){const n=o.oxw(),t=o.MAs(11);o.xp6(3),o.Q6J("resultTemplate",t)("inputFormatter",n.formatter)("ngbTypeahead",n.buscarEspecialista)("editable",!1)}}function en(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo altura debe ser como minimo 100 centimetros. "),o.qZA())}function nn(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo altura debe ser como maximo 250 centimetros. "),o.qZA())}function tn(e,r){if(1&e&&(o.TgZ(0,"div",26),o.YNc(1,en,2,0,"div",27),o.YNc(2,nn,2,0,"div",27),o.qZA()),2&e){const n=o.oxw();let t,a;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioFiltros.get("altura"))||null==t.errors?null:t.errors.min),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioFiltros.get("altura"))||null==a.errors?null:a.errors.max)}}function an(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo peso debe ser como maximo de 200 kilogramos. "),o.qZA())}function rn(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo peso debe ser como minimo de 20 kilogramos. "),o.qZA())}function ln(e,r){if(1&e&&(o.TgZ(0,"div",26),o.YNc(1,an,2,0,"div",27),o.YNc(2,rn,2,0,"div",27),o.qZA()),2&e){const n=o.oxw();let t,a;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioFiltros.get("peso"))||null==t.errors?null:t.errors.max),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioFiltros.get("peso"))||null==a.errors?null:a.errors.min)}}function un(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo temperatura debe ser como maximo 50\xb0C. "),o.qZA())}function cn(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo temperatura debe ser como minimo 30\xb0C. "),o.qZA())}function sn(e,r){if(1&e&&(o.TgZ(0,"div",26),o.YNc(1,un,2,0,"div",27),o.YNc(2,cn,2,0,"div",27),o.qZA()),2&e){const n=o.oxw();let t,a;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioFiltros.get("temperatura"))||null==t.errors?null:t.errors.max),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioFiltros.get("temperatura"))||null==a.errors?null:a.errors.min)}}function dn(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo presion minima debe ser como maximo 10. "),o.qZA())}function mn(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo presion minima debe ser como minimo 6. "),o.qZA())}function pn(e,r){if(1&e&&(o.TgZ(0,"div",31),o.YNc(1,dn,2,0,"div",27),o.YNc(2,mn,2,0,"div",27),o.qZA()),2&e){const n=o.oxw();let t,a;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioFiltros.get("presionMinima"))||null==t.errors?null:t.errors.max),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioFiltros.get("presionMinima"))||null==a.errors?null:a.errors.min)}}function _n(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo presion maxima debe ser como maximo 25. "),o.qZA())}function fn(e,r){1&e&&(o.TgZ(0,"div"),o._uU(1," El campo presion maxima debe ser como minimo 11. "),o.qZA())}function gn(e,r){if(1&e&&(o.TgZ(0,"div",31),o.YNc(1,_n,2,0,"div",27),o.YNc(2,fn,2,0,"div",27),o.qZA()),2&e){const n=o.oxw();let t,a;o.xp6(1),o.Q6J("ngIf",null==(t=n.formularioFiltros.get("presionMaxima"))||null==t.errors?null:t.errors.max),o.xp6(1),o.Q6J("ngIf",null==(a=n.formularioFiltros.get("presionMaxima"))||null==a.errors?null:a.errors.min)}}function Tn(e,r){1&e&&(o.TgZ(0,"div",32),o._uU(1," Los campos dos presion minima y presion maxima son requeridos cuando se completa el otro. "),o.qZA())}function bn(e,r){if(1&e&&(o.TgZ(0,"div",2)(1,"label",33),o._uU(2,"Pacientes:"),o.qZA(),o._UZ(3,"input",34),o.qZA()),2&e){const n=o.oxw(),t=o.MAs(11);o.xp6(3),o.Q6J("resultTemplate",t)("inputFormatter",n.formatter)("ngbTypeahead",n.buscarPaciente)("editable",!1)}}let vn=(()=>{class e{constructor(n,t){this.usuariosService=t,this.filtro=new o.vpe,this.focus$=new x.x,this.click$=new x.x,this.buscando=!1,this.busquedaFallida=!1,this.buscarEspecialista=a=>a.pipe((0,v.b)(300),(0,Z.x)(),(0,T.b)(()=>this.buscando=!0),(0,E.w)(l=>{let u,c=this.formularioFiltros.get("especialidad")?.value;return u=c?this.usuariosService.buscarEspecialistaPorEspecialidad(c,l):this.usuariosService.buscarUsuario(l,"especialista"),u.pipe((0,T.b)(()=>this.busquedaFallida=!1),(0,F.K)(()=>(this.busquedaFallida=!0,(0,I.of)([]))))}),(0,T.b)(()=>this.buscando=!1)),this.buscarPaciente=a=>a.pipe((0,v.b)(300),(0,Z.x)(),(0,T.b)(()=>this.buscando=!0),(0,E.w)(l=>this.usuariosService.buscarUsuario(l,"paciente").pipe((0,T.b)(()=>this.busquedaFallida=!1),(0,F.K)(()=>(this.busquedaFallida=!0,(0,I.of)([]))))),(0,T.b)(()=>this.buscando=!1)),this.buscarEspecialidad=a=>{const l=a.pipe((0,v.b)(200),(0,Z.x)()),u=this.click$.pipe((0,De.h)(()=>!this.selectEsp.isPopupOpen()));return(0,$e.T)(l,this.focus$,u).pipe((0,He.U)(d=>(""===d?Object.values(J.w):Object.values(J.w).filter(p=>p.toLowerCase().indexOf(d.toLowerCase())>-1)).slice(0,10)))},this.formatter=a=>a.nombre,this.formularioFiltros=n.group({especialidad:new i.NI(null,[i.kI.minLength(6),i.kI.maxLength(255)]),altura:new i.NI(null,[i.kI.max(250),i.kI.min(100)]),peso:new i.NI(null,[i.kI.max(200),i.kI.min(10)]),temperatura:new i.NI(null,[i.kI.max(50),i.kI.min(30)]),presionMaxima:new i.NI(null,[i.kI.max(25),i.kI.min(11)]),presionMinima:new i.NI(null,[i.kI.max(10),i.kI.min(6)])},{validators:this.validarFiltroPresion()}),this.formularioFiltros.valueChanges.pipe((0,v.b)(200),(0,Z.x)()).subscribe(a=>this.actualizarFiltros(a))}ngOnInit(){this.formularioFiltros.addControl("paciente"==this.filtrarPor?"paciente":"especialista",new i.NI(null))}validarFiltroPresion(){return n=>{let t=n.get("presionMaxima"),a=n.get("presionMinima");return t?.value&&!a?.value||!t?.value&&a?.value?{losDosCamposSonRequeridos:!0}:null}}actualizarFiltros(n){if(!this.formularioFiltros.valid||null==n.especialidad&&null==n.paciente&&null==n.especialista&&null==n.peso&&null==n.temperatura&&null==n.presionMaxima&&null==n.altura)return;let t={};for(const[a,l]of Object.entries(n))switch(a){case"paciente":case"especialista":case"especialidad":case"altura":case"peso":case"temperatura":t[a]=l;break;case"presionMaxima":t.presion=l}this.filtro.emit(t)}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(i.qu),o.Y36(A.i))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-filtros-turnos"]],viewQuery:function(n,t){if(1&n&&o.Gf(Be,7),2&n){let a;o.iGM(a=o.CRH())&&(t.selectEsp=a.first)}},inputs:{filtrarPor:"filtrarPor"},outputs:{filtro:"filtro"},decls:54,vars:11,consts:[[1,"d-flex","flex-column","col-md-12"],[1,"d-flex","mb-3",3,"formGroup"],[1,"form-group","col-md-2","me-2"],["for","especialidad",1,"col-xs-3","col-sm-auto","col-col-xs-3","col-sm-auto","col-form-label"],["id","especialidad","type","text","formControlName","especialidad",1,"form-control",3,"ngbTypeahead","focus","click"],["selectEsp","ngbTypeahead"],["class","alert alert-danger mt-3",4,"ngIf"],["rt",""],["class","form-group col-md-2 me-2",4,"ngIf","ngIfElse"],["for","altura",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"input-group"],["id","altura","type","number","formControlName","altura","placeholder","Altura",1,"form-control"],[1,"input-group-text"],["for","peso",1,"col-xs-3","col-sm-auto","col-form-label"],["id","peso","type","number","formControlName","peso","placeholder","Peso",1,"form-control"],[1,"row"],[1,"form-group","col-md-12"],["for","temperatura",1,"col-xs-3","col-sm-auto","col-form-label"],["id","temperatura","type","number","formControlName","temperatura","placeholder","Temperatura",1,"form-control"],["for","presion",1,"col-xs-3","col-sm-auto","col-form-label"],["id","presion","type","number","formControlName","presionMinima","placeholder","Presion minima","aria-label","presionMinima",1,"form-control"],["type","number","formControlName","presionMaxima","placeholder","m\xe1xima","aria-label","presionMaxima",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],["class","alert alert-danger py-1 mt-1",4,"ngIf"],["filtroPaciente",""],[1,"text-muted"],[1,"alert","alert-danger","mt-3"],[4,"ngIf"],[3,"result","term"],["for","especialistas",1,"col-xs-3","col-sm-auto","col-col-xs-3","col-sm-auto","col-form-label"],["id","especialistas","type","text","formControlName","especialista",1,"form-control",3,"resultTemplate","inputFormatter","ngbTypeahead","editable"],[1,"alert","alert-danger","mt-2"],[1,"alert","alert-danger","py-1","mt-1"],["for","pacientes",1,"col-xs-3","col-sm-auto","col-col-xs-3","col-sm-auto","col-form-label"],["id","pacientes","type","text","formControlName","paciente",1,"form-control",3,"resultTemplate","inputFormatter","ngbTypeahead","editable"]],template:function(n,t){if(1&n&&(o.TgZ(0,"div",0)(1,"h3"),o._uU(2,"Filtros tabla"),o.qZA(),o.TgZ(3,"form",1)(4,"div",2)(5,"label",3),o._uU(6,"Buscar por especialidad:"),o.qZA(),o.TgZ(7,"input",4,5),o.NdJ("focus",function(l){return t.focus$.next(l.target.value)})("click",function(l){return t.click$.next(l.target.value)}),o.qZA(),o.YNc(9,We,3,2,"div",6),o.qZA(),o.YNc(10,Xe,1,2,"ng-template",null,7,o.W1O),o.YNc(12,on,4,4,"div",8),o.TgZ(13,"div",2)(14,"label",9),o._uU(15,"Altura en centimetros"),o.qZA(),o.TgZ(16,"div",10),o._UZ(17,"input",11),o.TgZ(18,"span",12),o._uU(19,"Cm"),o.qZA()(),o.YNc(20,tn,3,2,"div",6),o.qZA(),o.TgZ(21,"div",2)(22,"label",13),o._uU(23,"Peso corporal"),o.qZA(),o.TgZ(24,"div",10),o._UZ(25,"input",14),o.TgZ(26,"span",12),o._uU(27,"Kg"),o.qZA()(),o.YNc(28,ln,3,2,"div",6),o.qZA(),o.TgZ(29,"div",15)(30,"div",16)(31,"label",17),o._uU(32,"Temperatura"),o.qZA(),o.TgZ(33,"div",10),o._UZ(34,"input",18),o.TgZ(35,"span",12),o._uU(36,"C\xb0"),o.qZA()(),o.YNc(37,sn,3,2,"div",6),o.qZA(),o.TgZ(38,"label",19),o._uU(39,"Presion arterial"),o.qZA(),o.TgZ(40,"div",10),o._UZ(41,"input",20),o.TgZ(42,"span",12),o._uU(43,"/"),o.qZA(),o._UZ(44,"input",21),o.TgZ(45,"span",12),o._uU(46,"mm Hg"),o.qZA(),o.YNc(47,pn,3,2,"div",22),o.YNc(48,gn,3,2,"div",22),o.YNc(49,Tn,2,0,"div",23),o.qZA()(),o.YNc(50,bn,4,4,"ng-template",null,24,o.W1O),o.qZA(),o.TgZ(52,"small",25),o._uU(53,"*Escribe el nombre de la especialidad buscada o del paciente/especialista para filtrar la tabla"),o.qZA()()),2&n){const a=o.MAs(51);let l,u,c,d,p,_;o.xp6(3),o.Q6J("formGroup",t.formularioFiltros),o.xp6(4),o.Q6J("ngbTypeahead",t.buscarEspecialidad),o.xp6(2),o.Q6J("ngIf",(null==(l=t.formularioFiltros.get("especialidad"))?null:l.invalid)&&((null==(l=t.formularioFiltros.get("especialidad"))?null:l.dirty)||(null==(l=t.formularioFiltros.get("especialidad"))?null:l.touched))),o.xp6(3),o.Q6J("ngIf","especialista"==t.filtrarPor)("ngIfElse",a),o.xp6(8),o.Q6J("ngIf",(null==(u=t.formularioFiltros.get("altura"))?null:u.invalid)&&((null==(u=t.formularioFiltros.get("altura"))?null:u.dirty)||(null==(u=t.formularioFiltros.get("altura"))?null:u.touched))),o.xp6(8),o.Q6J("ngIf",(null==(c=t.formularioFiltros.get("peso"))?null:c.invalid)&&((null==(c=t.formularioFiltros.get("peso"))?null:c.dirty)||(null==(c=t.formularioFiltros.get("peso"))?null:c.touched))),o.xp6(9),o.Q6J("ngIf",(null==(d=t.formularioFiltros.get("temperatura"))?null:d.invalid)&&((null==(d=t.formularioFiltros.get("temperatura"))?null:d.dirty)||(null==(d=t.formularioFiltros.get("temperatura"))?null:d.touched))),o.xp6(10),o.Q6J("ngIf",(null==(p=t.formularioFiltros.get("presionMinima"))?null:p.invalid)&&((null==(p=t.formularioFiltros.get("presionMinima"))?null:p.dirty)||(null==(p=t.formularioFiltros.get("presionMinima"))?null:p.touched))),o.xp6(1),o.Q6J("ngIf",(null==(_=t.formularioFiltros.get("presionMaxima"))?null:_.invalid)&&((null==(_=t.formularioFiltros.get("presionMaxima"))?null:_.dirty)||(null==(_=t.formularioFiltros.get("presionMaxima"))?null:_.touched))),o.xp6(1),o.Q6J("ngIf",(null==t.formularioFiltros.errors?null:t.formularioFiltros.errors.losDosCamposSonRequeridos)&&(t.formularioFiltros.touched||t.formularioFiltros.dirty))}},dependencies:[s.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,f._h,f.dR]}),e})();function Zn(e,r){if(1&e){const n=o.EpF();o.ynx(0),o.TgZ(1,"app-filtros-turnos",6),o.NdJ("filtro",function(a){o.CHM(n);const l=o.oxw();return o.KtG(l.filtrar(a))}),o.qZA(),o.TgZ(2,"h3",7),o._uU(3,"Mis turnos"),o.qZA(),o._UZ(4,"app-tabla-turnos-paciente",8),o.BQk()}if(2&e){const n=o.oxw();o.xp6(4),o.Q6J("filtros",n.filtroTurnos)}}function hn(e,r){if(1&e){const n=o.EpF();o.ynx(0),o.TgZ(1,"app-filtros-turnos",9),o.NdJ("filtro",function(a){o.CHM(n);const l=o.oxw();return o.KtG(l.filtrar(a))}),o.qZA(),o.TgZ(2,"h3",7),o._uU(3,"Mis turnos asignados"),o.qZA(),o._UZ(4,"app-tabla-turnos-especialista",8),o.BQk()}if(2&e){const n=o.oxw();o.xp6(4),o.Q6J("filtros",n.filtroTurnos)}}function xn(e,r){if(1&e){const n=o.EpF();o.ynx(0),o.TgZ(1,"app-filtros-turnos",6),o.NdJ("filtro",function(a){o.CHM(n);const l=o.oxw();return o.KtG(l.filtrar(a))}),o.qZA(),o.TgZ(2,"h3",7),o._uU(3,"Todos los turnos"),o.qZA(),o._UZ(4,"app-tabla-turnos-administrador",8),o.BQk()}if(2&e){const n=o.oxw();o.xp6(4),o.Q6J("filtros",n.filtroTurnos)}}function Cn(e,r){1&e&&o._UZ(0,"app-solicitar-turno")}const An=[{path:"",component:(()=>{class e{constructor(n){this.usuariosService=n}filtrar(n){this.filtroTurnos=n}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(A.i))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-listado-turnos"]],decls:9,vars:5,consts:[[1,"container-fluid"],[1,"p-2","mb-2","bg-light-dark","rounded-3"],[1,"container-fluid","py-5"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf"],["filtrarPor","especialista",3,"filtro"],[1,"text-center","p-2"],[3,"filtros"],["filtrarPor","paciente",3,"filtro"]],template:function(n,t){1&n&&(o.TgZ(0,"section",0)(1,"article")(2,"div",1)(3,"div",2)(4,"container-element",3),o.YNc(5,Zn,5,1,"ng-container",4),o.YNc(6,hn,5,1,"ng-container",4),o.YNc(7,xn,5,1,"ng-container",4),o.qZA()()()(),o.YNc(8,Cn,1,0,"app-solicitar-turno",5),o.qZA()),2&n&&(o.xp6(4),o.Q6J("ngSwitch",null==t.usuariosService.usuarioIngresado?null:t.usuariosService.usuarioIngresado.tipoUsuario),o.xp6(1),o.Q6J("ngSwitchCase","paciente"),o.xp6(1),o.Q6J("ngSwitchCase","especialista"),o.xp6(1),o.Q6J("ngSwitchCase","admin"),o.xp6(1),o.Q6J("ngIf",null==t.usuariosService.usuarioIngresado?null:t.usuariosService.usuarioIngresado.puedeCrearTurnos()))},dependencies:[s.O5,s.RF,s.n9,$,ue,Fe,Ge,vn]}),e})()}];let qn=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[y.Bz.forChild(An),y.Bz]}),e})();var In=m(2158);let En=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[s.ez,qn,In.U,f.mO,f.ZS]}),e})()}}]);